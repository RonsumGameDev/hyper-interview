<!doctype html>
<html>
<head>
  <title>Register Team</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script>
    function generateMemberFields() {
      let count = parseInt(document.getElementById("num_members").value);
      let container = document.getElementById("members_container");
      container.innerHTML = '';
      for (let i = 1; i <= count; i++) {
        let div = document.createElement("div");
        div.className = "mb-2";
        div.innerHTML = `<input type="text" class="form-control" name="member_names" placeholder="Member ${i} Name" required>`;
        container.appendChild(div);
      }
    }
  </script>
</head>
<body class="bg-light">
<div class="container py-5">
  <h1 class="mb-4">Register Your Team</h1>

  {% with messages = get_flashed_messages(with_categories=true) %}
  {% for cat, msg in messages %}
    <div class="alert alert-{{ 'success' if cat=='success' else 'danger' }}">{{ msg }}</div>
  {% endfor %}
  {% endwith %}

  <form method="post">
    <div class="mb-3">
      <label class="form-label">Team Name</label>
      <input type="text" class="form-control" name="team_name" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Team Leader Name</label>
      <input type="text" class="form-control" name="leader_name" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Contact</label>
      <input type="text" class="form-control" name="contact" required>
    </div>

    <div class="mb-3">
  <label class="form-label">Number of Team Members (max 4)</label>
  <input type="number" class="form-control" id="num_members" min="1" max="4" onchange="generateMemberFields()" required>
</div>


    <div id="members_container"></div>

    <button type="submit" class="btn btn-primary">Register</button>
  </form>
</div>
</body>
<script>
    function generateMemberFields() {
    let count = parseInt(document.getElementById("num_members").value);
    if (count > 4) {
        alert("Maximum 4 team members allowed!");
        document.getElementById("num_members").value = 4;
        count = 4;
    }
    let container = document.getElementById("members_container");
    container.innerHTML = '';
    for (let i = 1; i <= count; i++) {
        let div = document.createElement("div");
        div.className = "mb-2";
        div.innerHTML = `<input type="text" class="form-control" name="member_names" placeholder="Member ${i} Name" required>`;
        container.appendChild(div);
    }
}

</script>
</html>


